package com.qubacy.geoqq.data.image.repository

import android.graphics.Bitmap
import android.net.Uri
import com.qubacy.geoqq.common.util.mock.AnyUtility
import com.qubacy.geoqq.common.util.mock.Base64MockContext
import com.qubacy.geoqq.common.util.mock.BitmapMockContext
import com.qubacy.geoqq.data.common.repository.common.result.error.ErrorResult
import com.qubacy.geoqq.data.common.repository.network.NetworkTestContext
import com.qubacy.geoqq.data.image.repository.result.GetImagesResult
import com.qubacy.geoqq.data.image.repository.source.local.LocalImageDataSource
import com.qubacy.geoqq.data.image.repository.source.network.NetworkImageDataSource
import kotlinx.coroutines.runBlocking
import org.junit.Assert
import org.junit.Before
import org.junit.Test
import org.mockito.Mockito
import org.mockito.Mockito.mock

class ImageDataRepositoryTest(

) {
    companion object {
        const val DEFAULT_IMAGE_CONTENT = "iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAIAAAAP3aGbAAA+jUlEQVR4nOy9DXRT15X4e86VbAtHMuKrETZNlYyXsZl2VYmzMC9xi5PAxOsFyBvCeg1pO/jNdMhbSZiXJv3gNaw2yaIpnZnOpEDTB81bzzRtIKsuNITMcluSklfaxH6lFTONbRinIX02Fg0kRhIghHTPf10d6Uq+90qWdL/Oudq/5UUcYexrS/fnvffZZx/31mAQAQA/hNZ4731yQYkPiJxO7nvwXCImWnhRgEUIdl8AAFTArLZCCAXa6jftud7jg9e2A4EnFeCGcmxFAWc5FXhGAT4o31YUcJYjgacT4IBKbUUBZzkPeC4B1qnOVhRwlsOAJxJgGj22ooCznAQ8iwC76LcVBZzlGOApBBjFKFtRwFnOAJ4/gEWMtRUFnOUA4MkDmMMMW1HAWbwDzxzAFubZigLO4hp42gCGMNtWFHAWv8BzBrCCNbaigLM4BZ4wgAmstBUFnMUj8GwB9mO9rSjgLO6ApwqwGbtsRQFn8QU8T4Cd2GsrCjiLI+BJAmyDBVtRwFm8AM8QYA/s2IoCzuICeHoAG2DNVhRwFvvAcwNYDZu2ooCzGAeeGMBSWLYVBZzFMvCsANbBvq0o4CxmgacEsAhebEUBZ7EJPB+AFfBlKwo4i0HgyQBMh0dbUcBZrAHPBGAu/NqKAs5iCngaABPh3VYUcBY7wHMAmIUzbEUBZzECPAGAKTjJVhRwFgvATx8wHufZigLOsh340QMG41RbUfyL3f7FbruvonYBYQFG4mxbJWLivgfPRU4n7b6Q2gWEBRgG2AowGxAWYAxgK8ACQFiAAYCtAGsAYQF6AVsBlgHCAnQBtgKsBIQFVA/YCrAYEBZQJWArwHpAWEA1gK0AWwBhARUDtgLsAoQFVAbYCrAR2BUFzILHJ3i8wtxmt7/ZPW+xe+XmuXZfkVmArdgHhAXk8fgE/2L39UvrA231Hq8QWFpHH7H7uqwAbMUFNfFaBDQp1FPmra5mB6eArXgBhFVb+Be7P3arJ3iLJ7C0LtBWb/flMAHYiiNAWM4n2OkJtNV/rNMT7Gyo2RiqGGArvgBhORP/Ynd7TyNIqjRgK+4AYTmKYKdnaU9je8+cGqmU6wFsxSPwsuYej08ItNV/co23vWeOzmAqGifROBoOS+90tOKuEDbuMtkCbMUpICyOCXZ6dHoqGifDYTQRIaPj0juTEUIfX98r9G0AWwHMAcLiD5r3hdZcV4WnonEyOo5Gx5WGKmR9r7Bjq5PLXomY2LWxKXwk/t6JhN3XAlQG3hoM2n0NQFl4fMKKjU1LexoDbXUV/UMqqaEwGQ5LnorFS32w421VyPTZ1Bt7L545kZieStl9LUBZgLA4INjp6drYVOl630SEHD0uvc0qKZmaslUh4VcuQcDFBSAsdvH4hNAa79KexmBnQ/n/aihMjh4Xjx7XTvdKULO2kqEBV/hIeXYH7ACExSI0++va6Cs/pKKeOjhYbjClwNm2isZJk7fcNYTps6kzJ66+sXca8kQGAWGxRaCtvuuBptCa68r8eJ2eojjeVp9/NB2No+UhvL5XKL9XI/zKJdAWa4CwWCHY6Vm52V9m9jcRIQcHyb4BUY+nKLVgq9Hx/CMtAbSqG2/aICwJlGUu0BZTgLDsp3xVReNkKIz2DYjD4crqU8WoNVsVkgm4pJirnE8F2mIEEJadVKSq/gFjQiqZWraVTEtAMteWvrICLtCW7YCw7MHf7F652V9OrWooTHb1GxZSyYCtFNA8sZwKF2jLRkBYVlP+CuDBQfHgIDFcVWCrErQE0JY+oZw88a39saEXo6AtiwFhWcqKjU0rN88trSozsr9CwFazUqa2oG/LekBYFhHs9Nz9+LzSQz7NVhXYqiKotpaHcOny1vTZ1M+eugBd8tYAwjIdj0+49xsL23vmlPgYC1QFtqqOMqMtKGxZAwjLXMrJAfsHxF395qoKbKWTcrQ1fTY1tD/21v6oWRcBgLDMI9BWf/fj80u3LAyFydYd6cmI6RcDtjKEMrW178FzEGqZBAjLFHo2+0sfOGpSs4ImYCtjaQmgF551lS5sHds7/cbei9ZdU80AwjKYQFv9vU8uKFFcj8bJzn7ywwHRmusBW5nE3/bO0m4KoZYZuLr9fruvwTms2Nj0me8s8i5wFfuA/gHxoW3i/2dJYAW2MpWxcXRokCSSqFivqccnrHigCSH03omrll+dY4EIyxj8ze57v7GwRMVqKEye2W3p3QW2soaWAHpuu6ujFUItK4AIywBWbGy675mFC4Pak4ujcfIve8mT/yae/8C6SwJbWUYsjg4cJhMR0tGKNadueXxCaK330gURjr3QDwhLFx6fsGrLvJWb57obtH/BDoXJF76SPj5sUQ5IAVtZz9g4OnqcNHmRZqjlbsDtPY0en2vyj1dTSUtfDA4DhFU9/mb3P/QHWv8n7Y5QObAyu8FKAdjKLmJxyVklQq0ln2j4+N9cd+rYlUTcoiUX5wHCqhKaBharr9sSWIGtWKB0qEXTw3QSTfwRKvHVAMKqht7H5xdLA+0KrMBW7EBDrWgc3bwMN6j6W9wNuPW2ObB6WB2wSlgZpVcDJyLk4W323FRgKwYp3WIaOZ186fH3YfWwIiDCqoBAW/1nd32kWFNo/4D4xadFC/bZqAFbsUksjvYNSOlhaJmGs7wLXO09jVDSqggQVrmE1niLFa2icfL1fyM/eFFM2rFsDbZinF8Pk4kIWRES1OkhLWmdfy914cw1ey6ON0BYZdGz2X/34/M0i1YTEfK/PpS2ZlegGrAVF4yNo1dfF1d1a6weuhvwx//mOihplQkIa3Z6H59/e1+T5l/9dFB8eJulHaGFgK04IhZHhwZJQ712ehjs9Hh8rnfevGLHpfEECKsUHp9w3zOLQmu1j4rY2S9+a7c9aSDYikeuJqX0kCDt7YdLPtEQaKt/580EdJaWAIRVFH+z+7O7PhLs9Kj/Khonjz4tvnTYthcW2IpfhsNkdJx8erlGSWthsK71tjnv/DYBZfhiOPZFrxN/s3vTnus1FwQnIuTeL6RfOw62MgVn24py9DhZ94XURETjJRRoq9+053r/Yrcd18UBjn3d64HaSvNFMzIu3U629C5QwFbOYDKCMt+phrNKvPwASAmVlHi5/HRQfOxp20rsYCuHEYuj/3idLJyvsYnH4xOgRUsTENYMStiqf0B88t9sK7GDrRzJ1aSUHmqW4cFZmoCw8pSw1c5+8Tt77XzdgK0czHAYnFUuIKwspW21ux9sZRY1bisKOKtMQFiotK227xZ/8CLYyizAVjLDYRKNo08vB2eVAoRVylZf3SG+dBhsZRZgKwUnR8hEBK3uBmcVpdaFVdpWhwbBVmYBttJkbBycVYqaFhbYyi7AViUAZ5WgdoXl8Qmf3fURzaNuwFamAraalRLOCt7qefsXl2t2v2HtCuu+ZxZp7hPcvhvqViYCtiqTsXHtGrx3gWthsO7tX1y26bpspkaF1fv4fM0ZDDv7YU3QRMBWFXFyRLvXYWGwrmZn0dSisHo2+zXnW0G/lamAraqgWH/Wkk801ObMv5oTVntP4z3/53z142ArUwFbVc1wWHsqfLDTc/FsutZOk64tYfmb3Z/d+RH1pOOfDorf2g22MguwlU5+PUxaAhp7pIOdnnfeTMQvpG26Lhtw7E2ihjYxeHzKb3lknDwDtjINsJUhPLNbVM+i8fiEz/zropoaROPY+0SN5lNLTxK0/tBTGbAVUA7ROHpoW1o988/f7L73yQU2XZQNOPZWUdCz2a8eH0pvJ5jGZxJgK2OhM//Uv1yDnZ67H9coyzqSmqhhrdjYdNcWjW/z0afFkyN2XFAGsBVQKbE4+tOfyT13Kl82Sz7RcDVGJv7o/EVDx94wMv5m98rNc9WP7+wXYS67SYCtzOPocbJTazl75ea5tVDMcniE5fEJ/9AfUB/X3D9g50A+sBWgh+GwxqKhuwG39zSePHLJ2bt2HHvbUHo2+zUL7bvsa7kCWwH6eWa3qFmAX7nZyfGHw4UVWuvt2uhTPEjvKLuWBcFWgCFE49oF+BUbfSs2ap9S7gwce/P4m913PzZP/fg3d4t2LQuCrQADmYyg7Vr9g84uZjm2hvXgi4s1S1c/eNGeDB9sBRjO2LjGrh13Aw4srT955JJ912UizryFipWu7OpoB1sBJrGrX6OYFez0ODUxdOBdpNnHQG8qW64HbAWYRzSOHt4mqotZdz8+T90p7QAceCNt2nO9+sGd/cSW0hXYCjCb0XHtzixHbtlx2r2kmQweHBR/OGBDMgi2Aqxh34A4FFYmhoG2es2Waa5x1O2kmQza1XUFtgKsZOsOjS4HzS20XOOoO0ozGdzVb0MfA9gKsJjJCNJMDO9+XKO5h1+cc1Ot2NikmQweGrS6jwFsBdiCZmLosBVDh9xX/mZ31wPKpnZbkkGwFWAjmonhys1z1XMrOcUh38ZKrVq79ckg2AqwF83E0OMT7v2GQ1YMnXB3BTs9oTXKM7tGxonFySDYCmABzcSwvafxY1qncHKHE24wzX6Th7dZ2iYKtgLYQXNHR68jqu/c32OhtV51MrjT2mQQbAUwxeg42adqPAy01Tug+s73bVas8Ur9bJkH2ApgkF39Gvt1HFB95/vqNVsZNJ8qkwBbAWwSjWtX39UT4gzB3+y2RoUc32z+Zrf6pz8Rsa7WDrYCWEaz+q75O14n9MRPzUM/DYfj+01zGqxlIxnAVgD7qPsQPT7B2DHK1Fb+xe5AW70FzuL1lvM3u9WtDAcHLaq1g60ALhgOE3WQFVp7nVEtDrKt6P9a4Cxe7zrN3xLW9LWDrQCO2LpDI+foMWKKg8JWFLOdxeWNZ2N4BbYC+GIygtSL5sFOj84gS9NWFFOdxeW9Z1d4BbYCeERz3VxPkFXCVhTznMXf7WdXeLWqG2wFcEk0jvqNC7JmtRXFJGfxdweqwysLpjJ0tOJvg60Abtk3YEyQVaatKGY4i7ObUDO8Gg6bO6+9JYB/9KzL5zXxS9gI2KoWKBZkVTSPtCJbUQx3FmfCsr56BbYCnIFmkNVV9u7CKmxFMdZZPAnL+uoVtVVLwKzPby9gq5pCM8gKrb2uHJVUbSuKgc7iSVjWh1fPbQdbAc5BcyjArLsLddqKYpSzeBJWsLNB8Yip4dUTjwgdrWZ9cnsBW9Um0bh0yygeXLGxqYRHDLEVxRBncSMszblX5oVXW/qETRu4+eFUBNiqljmoGg3g8QmfXKNdozXQVhT9zuLmnlTPvRoybXFwVbewpY+bn0xFgK1qHM3dhe09c9QfabitKDqdxcdtGez0qH9w6gqiIbQE8BOP8PFjqRSwFaCZl6ibSE2yFUWPs/i4Mz+5VhmyTkTIa8dNmXvl1GVBsBVAGQ4TdX9D4fRkU21FqdpZHAhLs5vBpOrVE48IYCvA8Wg1kTZQfVhgK0p1zuJAWEGtHU/DqjxcP+t7nVloB1sBCtRNpHR6smW2olThLA7uT3W53YxuhpYAdmShHWwFqInGkcZgvzVeK21FqdRZrN+imuV29dKsfr691YHJINgKKIY6K/Q3uy22FaUiZ7EuLM1yu+H54JY+YXkIG/s5bQdsBZQgMzLA0qPRS1C+s1gXlrq7fd+AwT9lRyaDYCtgVszIVKqmTGcxfaO29zSqY9Sjxw1eH/z+dqZ/CFUAtgLKwcrzhsuhHGcxfa8u7WlUPGJ4d/v6XqG91VHJINgKKBOfF1t25HCZzOospoXVvlK5Y0C9dVMPzksGwVZAmTA76K20s9i9Xdt7GtUXbWy5fUufo1YGwVZAmTA+6K2Es9gVltn5YEcrXt/rnGQQbAWUCeO2ohRzFrvCMjsffG67y8DPZi9gK6BMuLAVRdNZjAor2OkxNR9c3+ucZBBsBZQJR7aiqJ3FqLDU/aLG5oOOqbWDrYAy4c5WFIWzGL1vNachG/XJHRNega2AMuHUVpRCZ7EoLM09TQbmg84Ir8BWQJlwbSuK7CwWb131PJmRccPyQWeEV2AroEwcYCsKdRaLwlq6UtnQAOFVIWAroEwcYytKoK3ehmkSs6IuYB01aBqyA8IrpmzV6CFLb0wvmEc+ulhcOE96Qwgt8OefrMsJfOFDfDmBz38oXPgQn3rX9f9PCZcTzml/YxmH2YrCnLA0GxpGx40RFu/hFQu2opJaemP65r9OFbqp2Ac3LpY+ZumNafnB8x8Kp951hUdcp951gbxMwpG2YlFYgbZ6xSNDWjPzq4D38Mp2Wy29Mb3q9mtLb0w3enT9/qCx2O23XEMI/eb3deER1x9GmXsdco1TbcWisNQ7cowqYHG9EcdGWzV6yKrbr6267ZpOT2ly+y3Xbr/l2vkPhcOv1Z9613VhmuPniBEcbCsWhRVoq1M8oh4+XQUtAczvTFG7bGWqqgpZOE/8+w2J8x8Kv/2D+/BryhAbKB9n24o5YQXa6k3akcN19eqrO0TrbXX7LdfW3ZWctUplIAvnievuTN52c+rwa/W//QNbr0wucLytju2dZutlEViqUcAy5DN3cRtebd8tmnRkbDEWzhP/t/uuFpbJi4ExIkT6EyHpHfqIjOKvyv/qf78hcfMy94FXGyBDLJ9asNUbey+yJayPqVpGDVkf5LfcvrNf/KG1c2xX3X5t3Z3JcnJAKiPZUFhC4wNy2tL4hCVEdvOy1NKb0geONECoVQ41YisGU0JTClirurn8Rd0/IO4254BrTRo9ZN1dyVW3XVP/VWEklXsEKz4g/37uHTLjr7Csp9w7RBGOqa/n7zckbmiuO/Cqsi8PKKR2bMWgsJQp4ZjuCKslgHkU1sg4eWa3dbZaOE98+LOJjy4u+hUzcsEF8VReTAWhFpYfmSkgIv1vLuAi2Xdw7u/y8lJra9Vt15bemN79ozmQHmpSU7Zia/OzegthNI70byHksXo1ESEPb5u9hGQUC+eJX/7CFYWtJCVl33A24cv8r4CRS5DeBAG7XNjtLvwTud35RzJvyO1G8gdk3wSc/Qy5T0i/hPxFFXx0sXR5Vpb/eaHWbMWWsNThlUEFLP6E9fC2tOFn8ReD2qpQBwXWyHpKEPKeynvHpXATdrsFtxvX1RW+CW63UFeHFSIrkFf2kwtC7osVuFIO39QXCdSgrdhKCec2Gz9SpsmLuGu/2tlvXRODpq1y72QTwEx8JcVTcsCF834pjMKUZfh80QphRKS0kCBExExWmHkTxcJ3Mn+b+bqZB4miNEYv9V+eh9wQ1ayt2BKWOsIa0R1hcZcPTkSIZYX2QlupC+o0WZOC8KyqsECjoYL/nSmyfIkLz1wUJBkbEYIzbsq+T9+hzir4k4hE/hx5bVH3gbMoNWsr1oSlXCLUnxbd1c1QzjsrtKPdsi/38GcTC/xEudyHswV1WUaCQFVFDZV/P/dI5sOQMs6SoeFSNpKS3sGiSLUlOUsUs+ZKp3NrkfRvs8rDipL8wnniI5+TnFWzu6Zr2VYMCcvjE9Q97vqXCPmKsHb2G3yudQnuv+eqqsoue0dDTC4XzlTZ8w+6BDnOKgiyUMHyYS5EorEVNZdkK5L1FP0znZb+FASUEVneXFltYfrP82HgRxeL6+5K1mavQ43biiFhmZEPdrRijp7aiQixrEf09luu0X6rguJ6NrCSI6msm1zIJeQL5FRb1F/Z4EtOBqmpZvgq27tAE7pMupfNCmmQJelJ+lNyVjpN0mnpEUGQnCWKBONsLEY/L1Uf/bSrbrt2/kPh6G+VIbmzAVsxJCx1xb3WGhosSwYXzhM/c09SbSshlwPKwVR+KTD3v9kgC+fTQ4TzEZY6H6TQ8EqSTkEBSyQ4ryoXSaeRrC2MkSjizDtUW9K/zrhcCrXol1h3V/IPI+7aKWaBrSisCEt96oT+fJCj9cGDg6JlyeBn7kleNydX2aauyVWsZE8JLuyWuxZy5qLawgXFLKxlK1pxpz/6XE+79E6u7p5xlogld4k47SLUTek0SUl/olQKC0JWWzQ9REiKswSEpGALZ9ND2gf/L88rT9t1JGArGVaEpU4JJyMGpIQ6P4Nl7LJqZfD2W67d3JGi78u2ypelXFlhZfuqChs+BSTk8sECWyF5B+HMdUblzmf5z5y5snGWIEphV1pAaRd2pUkqRVwCSUnaQjjzJdJp2uqARFEyluwsjNHSG9O33Zxy/GZDsFUhrDzZ6or7hL6IoyXATQFrZ7914dW6u5K5aGiGrQp7QQtt5c4oTFZV9s+ZgZVia6HmwIbCArycJIpCtptBcmVGW4IgRVtCiggCwdeIgGlWKEVe2bhNJLnVQ0K/nfCok+csg60UsCIsw3salrXq+ueWMREhh4w7I7Y06+5KLpxHFLaixfVCVdUVOIumh7n4KxNb5RNArIiq1BRuKqQfLRfgEUICrcFjyVyStlxYSFFtISEl/dtUqnCHUDbaksvwCJFF88VVt19z6sw/sJUaVoSljrB0poS8FLCGDT2CvwTyGHV1JkjzPrqBpi6zvaZgA01Bc0N+x8yMXdClKSIyTIOvTHKHBZJ1VraHXsA0sBKwmI/jcnulZWdlgjWy+rZrR39T57wgC2ylCRPC8mssEdZKAcuy6tXSG9ML5xF1Jijbqq5OqCuIsGhslRVWwaYcyqyeKoZqZlZ2Iw4m2S6wdEZgud2FAjUXQiJOZWv4dPJDrnULN84hzguywFbFYKIRXL1EqLOAxYuwrFwcvPeuJM6NgClmq7o6XF+H3ZlQy5WZtUAnK9AFRHkpsGpbFVKY61EVujI9X9mRD3WSN+vrpTfpnbrsDmp6zXSTEM7NtFmtNcOLX8BWJWAiwlLng1F953o1eZHPq+szWEP/gEXjB25ellowj+RarmZU2amt6jPDFbLLgu5sE4O6ccEM5IoYIUgQ8qEWKmhDlZJHJBAizlxzzI7UapxDlt6YPvWuy6xLtBCwVWmYEJY6wtKZEnIRXo2ME/29ZmVy87JUdspCJtWSFwRnZoKCFLy4UCaEwXIfqQXMWGPMlOYxwcitXHDM17Fy8x6QSGhD6erbrzlAWGCrWWFCWA2qCEvnyalNPIRX+6zaiNPoId2daSkTzHWHFi4L0kywjgZWbkzzMnmHoJ5yVaXIX0gQcH5EaY7suiIRc0NpsvsLSVr6Lz3elevSO9iqHJioYRm+RNjOQ4Rl1AGxs7L0pnSuZkSTQenNXRBV5arsSGErUzNBTQrKZJlLlYea5i6S6lXOZ+Xhgtc1Zr9NTgFblQmjwrqoL8JqCbAurCGruhkQQrf8dTq7W1BuZ3cXdF3lS+xYEVvZgqaz5ATWneu6cOVa8OWBXO3cCgtsVT5MCEtdw9KZEi5h/rk/aFWzKG1oUHS00+J6HQ1bXIoqu9WZoBqFswTZWa6CDUMCtVV+INfNy7gUFtiqIpioYRkO+zUsy/LBxjlk0Xwi39hyN8OMBcGZtrJRVTIFuxGxgImU9bkRQchNkChikf4pSt9Lto0Lo0XzCXdlLLBVpTARYXl8yheZznSJ8ZRwZNy6fPCGxSI99Eautef3DLqy4VW2rcnWTFCNHGflWu0zpTdafcuuGMjzuTANspb+FU9BFtiqCpiIsNQ1LJ0w3oRlWXiFEGq/KZ0Lr1BuEgMq6GWnRetZBlrZhRxnZRoyMBGQ4EJuEYnuzFAaF06nkctFxwFK38gifo7VAVtVBxPCUhONV//KYzy8Muo46zKh23GEbMUnWwmSx8W4CibGsGYrSs5ZWBCk/wpZZ+F0JtTKzCbNxl+EoBuaLT3Wv2rAVlXDhLA8XoP7sBjHsn5RhNCi+SS3PojkcVe5t0xnlvm97DrJ92dlzkYkLklSbndmKqmbpNOSy+hIeDqLgnHAVnpgpIZl5GUwvkRoyHHW5XNdI8nNsSoIr/IjrphW1Uwylyo3vlL/CvL3Ihn5IwtYFxbYSidMCKumMOQ46/L5yPzC5gDkKkgD5a2CbCaDheTP8iloKMvviMxOpGFr0UAN2Eo/ICyrsVhYNMKip+C4crGJkL297Wln14M8e17ItWLQb4qei7FoPrsRFtjKEEBYVmNlPohyDQ25OXyFA/my1StLr0YH+XVMhOS2MrrQ6XLlxzezCdjKKFh9hp2LxRFW/t6WD5rP2wqxnwwqkKNC+dx8V24gKmbVv2ArA2FilbCm0Dnqq1IUG1wyy4JYrvcweYMXpXDLTqYAT3KhIhaE7GIoa4CtjIW9Z9jp6J/+XBHnPxTkxtHsrS5wVrdSQ7PC/NAuITsJnrV9OWArwwFhWY3FLWa5BArn4qyCYhCf0ipcK8DZY8cwXUA8/yFDr2ewlRkw8QQnYnw0KOvH4nwwE2Flm60Kt+CwMJKharLfQmGvQ07El6/YfXE5wFYmwYaw4kph6dkMaL0UyiemY8tRdbz/AZ2MXKgqjbOaeaHw6NbCAjz91t7/gIlvCWxlHkwIS02Tt/pXHsvCsp53JwRZVZmwJB+Y2H1pBkDlm8kHpfdYEBbYylQYFZYerI9iWIZGWLk0yhmaynfnF74JAnr7v20+hwJsZTZMCGv6rHKMkVNTQuv54+kZ9zZSHO3ALTNzw+x39e6EnZcEtrIAJoSlRufIUItbB1jm0mX8/gf5Z7kwwuI02sqraub7f7mAL1227VtyvK3OnEjYbitWhDU9lVI8wvjEharx6ajNVc1bfxAKexh4b8Iqxn+dsu3F7HhbaaZBtsCEsAxndNzuKyiCLcPm/3NsRhMDyZ2czCnKi899axkv20At2CqzlA/CyjF9Vhlh6ZwaynIZy/qBqP85huOX83c579GVOjykD5wcs+E7qxFbZZolmfgtx4SwrqoaR3UOZbdypGelWD9vPn4ZnRzJP9Fch1caEClm/Pn/K1y6bPVXrh1bsdPdzYSwrqgaR/X0YekcCW82try+f/pzehyWDV/acAq/C/n935ywOryqKVtpFpptgQlhXVSlhO2tuj4hszWszHqCDZlLeATHMwGIM5xFod8KIWTqL/j47yz9qdaarSDCmoFa3nOd29bQ0WpPEeknr2JqK7nozq+8iASSv4X/5ydgKyPZ2S+q7yB1VGELTAhLLW/9RXdmnaUzeKyal17FsUukQFKM/nzKh34vZ/+Cf/+2dV+0Fmy1u19U34CQEuZJxET1j0Ons5jNCm1JCRFC8UvopSNYEZvwSO76Cf3z1ddR5H2LvnTN2oqRfJAVYWn+RHSupjEbYTV5bTvq9cAr6Ow5mk8R3p2VSWzJ2XPo+Zcs+qI1YivNtu3I6aQ916SCFWFFTl9TPLJMX+pk5XHwldIVsufrxi6hH+yX73bEo7PyF5xZ9Nz7okVft3ZspbmQDRGWEvVPpF1fcXqE1ZQQIbQ8ZNuP/ZXX0O/+E3Hd4kADRILQ62+SI69b8RVrylaa1Rh1PGEXrAhLHXPqbMWajBBmz7u3K8KifOPfSTSeTansvA4dEIKicfKve6z4WrVmK82FbPVeFLtgRVjnTimFpf+uHmI1K2wJYLvKWAihs+fQ918Qs3EKoz8hbegFZ97IP/9fZOovpn/FGrSVZg2LkSVChoSl/onoH2zAchlrVbedW/p+/DP0wiF5nc3GC6kY6tkXDpHDvzT9a9WmrTSrMeeg6K4gERMVZSz9q2nMRli2Cwsh9P0XyNg7RI5Z2Ee+1NFxKbwy+8vVrK3U+aD63rQRVoSlWdjTmRWOjrNcxsLW74IuJBZHW74hTkzx4KoCJiPkn540/eapWVsx3tPAmrCUPxedC4WMB1l9G2z+4Z89hzY9Lk5MiewHWfQKJ6bETY+LZ8+Z+7Vq2VaaNx0ISxv1z0V/ZRrKWKU5ew793WPZjWPMOote2GSEbHoMbKWX0raisb/iEUZmjVIYEpbWQqHeW/qXx1m9CzPFguW6v0H9SM76Yprx3HBiivzdF9OTYCt9zGorzRoWRFjaqBcK9dfdJyOE2T06CKFNdmeFlMmMs0bHWVwxJASN/DfYygDKsVVLQKO0+t6JhImXVSFM3DCURExUu1x/N9bBQfbuwhyru20uvctMnkP/yz+m9w2ITDmLENQ/IP7dY2ArvZRjK839cEyFV2wJS3Oh0Nl1dxZK74U88z1x6450NGb3dWSIxsg3d4vf+p5o9lIv2EpGXaOIqAo19sLQ3ULPPlM8on/c3XCY3eYGmhUyEmRRDv2c3PuPqaN21/6GwuTef0z/8KfQwaCX8m2lebudOXHVhIuqHraEpc6WO1oNSJoODrLS9qamyctWkJUp/KGHtqW/uiM9YUf5byJCvroj/flH05MR078W2EqBOsJip8edwtatMn02pe531x9ksbxWSIMsG7cWFuPQILnz/vTOftEybUXjZGe/eO8X0ocsKTuCrRSoF+U1y8r2wpawNENQ/c0Nw2Gm1wqbvGhLH3NPBGV3v/j5R02Ptqiq7rg/vbvf9IoVBWylRqOAxZitWBSWOis0pFmJ5bVChND6XiZ6sjSZjGSjrYe2pY1NrqNx8svj5HOPpm9dY52qwFbFUEcGY8euGHdRxoC3BoN2X8MMgp2eTXuuL3wkGkd33J/S+Wpu8qLfHXHrvTgzGQqTzz/KUEtxMXxe6ZW9qlsybHXz6Sci5OhxMhwmQ3ash4CtNNG8QfofPMdUExZCiLl7+MyJRCImenz50I+WsXRusonGJSPozy7NoyuEN20Q9g2wuz5AicXR0eOELiP6Mk9NVwhnJnzRRt8ZkxdpIjkZkd5Gx8XJCLJFUjJgq2JoDmlgzVYsCouWsdp75hQ+sqpbr7AQQrv6xa5nXTo/ials6ROOHme63KYgFkfDYcLyhs1CwFYlUO9sVfcYsQBzNSzNMtZqI/YJM96QRWPJHVtZfEYcANiqNFwUsBgV1tgblxWPGDVTuJ/5hIsmhnZfhdMAW5WmJYDVW0oYzAcZFdb02ZR6I7Qhw1j2DVi3FFU1W/pYbMviF7DVrGiNlNG4B1mARWFphqOGCCsaZ7rrndLkRT961sXUfh1+AVuVw/pePgpY7Arr1DFlVmjUTGH2s0J6kiWzraQcAbYqh5aARg9g+MglnZ/WJBi9K2hzg+LB9b0GXC1dWdf/ecymb4MAxSw9gK3KRHNHDpsFLHaFlSm9m5IV0v4GQz6P2TzxiMBs+zvjgK3KR50PjqnyG3ZgV1gnX1GWx43KCmmPtQGfyHye2+6CAnylgK3KRzMfVMcK7MCusCKnkyZlhRwFWbQAD84qH7BVRWjmg+oKMjuwK6xETDQvK+QoyGoJoO9tZ2vIH7OArSqFr3yQaWGZmhUihJ7ZzUeQlZm0jXdsZXpTEQuArSqFu3yQdWFprhUaNZ9zdJyw35Mls7obw66dEoCtqkC94236bIrlfJB1YWn2g6iD2KrZZeEMJv2s7xXAWZqArapD3TfDbL+oDOs3gNr3mnFsdUxG+OgjlQFnqQFbVUdmKJDyQWb7RWVYf/WfOZFQz2k1sKNy34B1M8sNAZxVCNiqav5WteA+fTbFbL+oDAcv/VOqfYUGlt6jcW5aHGTW9wrf2w6bDcFW1dMSwOrSyrG9F834WsbCgbDe2h9VH6Vj4NFYhwa5aXGQWd2NX6jt/iywlR40R++yH17xIaxETFTXAo3dZ7d1BwfD1BUsa8U121Pa0Qq20oV6a334lTib82QUcCAshNDQfuXp6U1eY07ToUxG+EsMaU/pj5516T/Nny+6QmArXazu5rLcTuFDWGdOJNTnFRo7gIW76julJYAOP++qnbkOfRuEFxw9LMxsW2lmJ1yU2yncvNA1J2QZGGRF42jrDv6CLMoTjwhfe4Sbp7JqHP9tWmArza4gLsrtFG6e/vCRuHl7oSnDYcL+KVvF6Nsg/OqA26klrZYAfvl5t7MDSQtspZmXTJ9NnTzCTf80N6+ARExUV7LW9xrW30DZ1c9lYkhpCaCXn3cZK3EW6Arhw8+7Olrtvg4zscZWmt0M7He3F+Lq9vvtvoZyiZxOdvfNVTyYTCIDz8W7mkSj4wYHblbSUI9WdeOWAB4dRxztOiqGz4u/vFl46jFXQ73dl2Im1tgqk1O71AemvvSl9xNxbhILnoSVShJ/szvQNuPF29GK9x8Wk8pm+OqZjKAmLwot4zi36mjFq7uFWByNjvMaLdLA6v/+Z9enlnP8RJSDZbZqCeBvq/ZIhF+Jn+RkfZDCWSgx9KJGf4OBTaSUb+4Wub7VaXq4Y6vAaXOpz4ufeIRevN2XYjKW2arYqvob/JTbKZwJK3I6qe5v2LTB+Pl2D21LOyCl6grhXx1w7djKk7a29AnHDtREo4aVtmoJYHV3Oy/NooXwlBJSLk6lQmtn+Kmh3uBKFkIoFkdXk+jTjshHaIbY5JWyXZYtvL5XeG67a1U3dnbFimKlrWj1Si0svqpXFP6ENT2VCnbO8Te7Cx80vJKFEDo5QngvZsk0eaVoi1ltUVWt78VNzu0ILcRiWzmjekXhT1jFgqyGevTrYYMLTydHyP98J27yOsFZsrb6NgiMLCP6vPjBB4Tvb3fdc2etqMp6WzljcVAGbw0G7b6Gati0JxDsbFA8eMf96Umju6gye1/cjtwLMhwmBwfJL4+TWNzqFYauEF7fK6zqNriNjn2st1VLAP/qgPJAgPAr8ZefumDlZRgFlxGWZpBFE8NDgwbfe7E4+tOfyT13OrAG3BLAq7qlGKejFTfU42jc9JirK4Q3bXA9+3XX/evoFzX3y7GG9bZyWHjFcYSFELr3yQWhNUpnfe7RtLHVd8ojfcI/GbrXmk2Gw2RkHL12XByREkZjfoxLMlrsaMU1GE8VYoutHBZe8S0sf7P7wR8v9vhmeGQoTD7/qCnDrXZsFfjtgK+C0XEyGZH+pO9MRMpS2JKAZKWOVtTeKixrlWLeWpaUjC22QghltpcqH/zu2knuuhlk3HZfQPVMn00N7Y+t3Dxjs04m6RDM2MP8zG6xoxWro2unkvlmZ5xcG4ujaFySlxp6V3DU7WUldtlqfa+gttVb+6P82orvCAsh5PEJ/8fhFkWQFY2jO+5PmVGOaQmgF551LYHbEigbu2zl8+LDzyu3CkyfTe178BzXwuI7x0nERPUonyavwbP9ZCYj6OFtPB1lCNiLXbbKjBvSGCt6bO9Frm3FvbAy05Oj6nPA+jYIJg0OHh0n2/k54x6wERtt1RLAvM+9KgavbQ2FXDij0eJw0w3GtzhQxsZJNO6QXTuASdhoK4TQj591LZyvfH0e+NL7FzkPrxwirOmpVKCtYWGwrvDBJQEcjaOTI6Y46+QIIUXOSgIAe221vle4f53GRhz1/Ese4T4lpLz81Hn1AOUtfYJ561a7+0V+5ykD5mGvrYolg9yNkSmGQ4RVrPpu6qnu39wtHhwEZwF57LVV7pe08kHeWxkKcYiwaPVdPSqLtmWZ90W37hC5OzUaMAnbbbW+V1CPbKftijZdkfE4R1gIoZ9/5wP1g6Ymhgihh7eleR9PCujHdltpJoMIoX0PnrPjcszCUcKKnE6qc3WzE8NoHH3+UXBWTWO7rYolg8f2TjsmGaQ4Slj0GVK3ZZmdGIKzahkWbNW3QTsZdEytXcZpwkIIvfykxk70LX1mtZJSwFm1CQu2qpFkkOJAYUVOJwe/86HiwSYv+v52l6mTA8BZtQYLtkII/ehZjRf2mRMJxR5bZ+CExlE1k3+8qp773uQ1ZYxyIVeT6D9eJ59ajhep+owBh8GIrZ54RNA8utHf7L71Pt+KjU1LPuGpq8fTU6lU0gm/Sp0pLITQe79PhNZ43Q0znsvQMjwRQWNmBkHUWTfdgG+6AZzlWBix1fpe4UubS4VR7ga8MFjX3tPY3TfXv7ju4lQqfsGUaXGW4VhhJWJiKolab5ujeLwrhF99nZg6ceFqEr36OmkJoNoZnlVTMGKrlgD+/vYKDvEPLK2/9T5fsNMzPZXmd1OhY4VFE0OPT1jyiRlnVTTUo9XdwsFBg88EU3P0uHNOCQNkGLGVz4t/8pxr4fyK/6G/2R1a6w20NUz+11Uex7o7WVgZZyU/fvd1iupjkxctmi8Jxeyv/uth2CPtKBixFULoy5u1S1dlsjBYt+KBJoTQe6rNIYzD98TRctAc/Y4Q2tUv7rLkxVcjB1g4HnZs1RLAy0NobBxF46jwXLuWAG4JSL+Pl4dwR6vG2fRquJtB6vAIq3Qxa2ScvPtn0y9gOExGx8mnlwu1dqqVk2DHVnS4/tg4Ov+B8li2mOQv9Kc/S6H9oUHSPyCeHCFXk6VqqR6fEFrrTSfRxB/5CLWcL6xixSyE0KeXC2YX4Cn0NfSp5c45RLqmYMpW5ZNMSi+8o8fJwUFxdJx0tGq//NwNmP465yI9rAlhIYTeeTOh7syiBfijx61w1vkPpJfOqm5wFmdwaqtCaES2b4CQzEEqmq/AYKeHC2fVirBoZ1Z7T6O6AL880+hg9qIhfd0cGoQWLZ5wgK0KGQ4TunitmSRy4awaElYiJr534urH/+Y6RTfpovnYmkVDuUULlg65wGG2osTi0ks9Gkc3L8Pqoir7zqohYSGE4hfSlz4Q23saFY/TA4pN3bVTyHCYTETIihCU4dnlqzvEHzp3BPbJEfLq66JmgSLY6bl4Nq0eecIItSUsujUaI0x/kxRCOzyHrRofOjaOir1iAHuJxsk/fEV8zZKI20ZoqFXMWW//4jKbbaU1Jyx5I7t60ZCmaZY5i5a0GuqhG54hJiLkC19Jnxyx+zosoZiz3A04eKvkLAb3S9eisOiiofpkMOos8w4HU3M1KeWhxQoKgMWMjEu2+pP5rXnsUMxZ3gWuVJIwWMyqUWFlnHWl9bY53gUuxeOfXm76RAcFJQoKgGX8dFB87GnxvMapAA4nFkfDYbTmTmVFNdjpOXXsCmvTHWpXWKkkeedNjUYHhNDqbqudFYtn22Rg9dAWdvaL39pt+n54Zjn/gRTsqw8zXxisO3nkkk0XpU3tCos2Opx64wojzqLls6EwWR6CUMs6aIn90CBzxRqLOTlCOlqVHYL+ZveZE1eZmkVT08Ji0FmTEajEW8dQmHzhK+mxcbuvgw3CI+S+XmVi6G92MxVk1bqwZnWWlTV4Cq3EQ6hlNv0D4mNPixbsyuKFWBw11CuLEqwFWSAsVNpZNLG3rNdBZjICVS2zmIiQh7aJBw7XehqoZmycbFynDLIScfGdNxO2XdNMQFhZSjjL4v6sQobD5OCg2BWCUy0Mo39A/OLTogVjhXjkalIjyFoYrDtxMM5ITxYIKw+bzorF0YHDZCJSdDwIUCZyYFWzq4HloA6y3A34/JnUOTY264CwZlDaWS0BNBS25+U+No4ODZJEEjLEKoHAqkyuJlFomXK5MBEjp964bN9F5QFhKSnhrI5W/Knl+NfDykmP1nA1mc0Qi40HATQZCpOtOyCwqoD3P0Dre2e8+P3N7t/si9p3RXlg1rgGJQZdL2vFP3rW1RKwzReTEbR1h3jH/amDgyzuTWWKiQj56o705x9N25LL88vYuHKkpccn+Be7bbugAiDC0obGWcFOj3rvTpNX+v3zzp+tmAdfDLoFDKKtYkTjZM+LUmBVI9uYjeVqEn1qOV4y87dy5PQ1FspYIKyiJGLi27+4vDBYr94j3VCP1twp2FWGlwFtqaGq+uLT4vFhRnPAlgBmv/lrWStWtC5PT6VYaG4AYZUilSRv/+KS5iwaWob3eVF4xOYbA7RFYV9VPi9++jEhGkfs1/4XzUerumfUi+IX0m//wv66Owhrdt55M6E584+O/Vtzp0XHWJRG1tZkBN10g/ZBA06FfVXRwOonz7m6QvjAYTIZsftqZgdvXDdDWO56PLQ/Zt/1ZIGie1kc2zv90pfeT8Q06twtAfTy8y7FqopdZPrjxTvvT391R3qoBirNQ2Hyzd3pO+5P7+5nepPN+l7h8POulgCizxH7RFn9YTr/5GcD8Te7N+25vthySf+A+MxutlbuWgLob3uF9b3KAirvROPk6HF0cFBkf/nP58X/1Ic3bcj/PmvrYWVfXmlOH1O+zp+69T2briUPCKsy/M3uz/zrokCb9njQyQj63KPpwtPDGWF5CK/vxctD3JtrKEyOHhcPDtqfg5dDRyt+bns2sJIBYekBhFUNPZv9KzfP1fyraBzt6hf3sXrgyvIQXtWNu0KYr/I8X56i9G0QtvQJPq/ycRCWHphoBuOOY3unr8TEns1z1d3wTV70xCNCRyve1S8yGGoNhwlNo1oCkrxWdwvLQ4xW6GneNxQWWVjTqIiWAP72VmE5bKIyAYiwqqd0SWsyIoVaXPSjL5cCLtQVsl9e0TgZDkuSGg6jUWtHJxpFscBK5o77WSwaKGgJ4F8dmNEyPX029d11k/ZdURaIsKpn+mxqzwNTKzfPXbGxSf23LQG0I/Nrls1Qq5BM2IX2DaRp2YUGXx2tksXM9lc0TkbHJTeNjkvXwPgPqjRlBlYlXMYOSwLKRxg5phCEpYtETPz5dz6MnL7W+9g8dXqYWc/GXSEXL6EWQtQd+YP7fZlmVNqS2hKQXNbkRZk/KxNZNE6icSnqzLyRiQgZG0cTEc5yvRLMGljJLGtF7A9lblJ9I5o9PdYDwjKAk6/E3zuRKJYe0lBr0wb80DbWQy01mTOgpGs+qjoJ2eeVtNWi+lVcCO054u67roiOVvzEIxVUrNpbMUKs/0DU3w4jh9eDsIxByvDXTpZYPexoxb86IIVa/QNMtziWTyyOYnEumrbNQt1jpebMiYRijwQX67Pqi4ycumbTtcyAif5sx3Bs7/R3101qzqWhbOkTDj/vZqQtHtBD3wbh2AFXCVtFTif3PDD18lMXFI93tGLGy1hNXo0Ii4VRDSAs46Gh1ht7Lxb7AJoh/uqA28ahWoAeukL4R8+6vvZIqYrVsb3Tex6YipxOTp9NKao/7O9RV0+1TcRERlJCEJYpzBpqtQTQrw64dmy1cxYgUCktAUlVLzzrKlGxOnMiseeBqcLfWGNvXFF8TOks0nbu6lZe3pkT9g+WocC0BrNIxMSh/bFEjCy8sU5zAZFmB30bhJYAHh23Z+wyUCY+L/7yZuHfv17qF0wiJh7d/eGr3/ogfiFd+LjHJ7T3NBY+smg+3n+Y0ZPxaXOG4sHj/VFGUkIQlrlM/vHqqTeueHxCse2HoC3G8Xnxgw8Iz369VFQlhVHHLu/738+9d+Kq+q8uTqVuvc/nbsj/84Z6lEzaPP2xGKu7hVXdyu/05acuwDFftUIiJp46duW9E1eDt3qKhVpUW6u7hY5W0BYryKr61HLcUPTXDYqcTg587fxv9kWL3dKpJPEudCtmQHa0MhpkPbfdpWjCCr8SZ2F0HwWEZRHTU6mh/bHpqXRgaX0xbdFyLERbtlOmqmgO+PJTF2Y9yT2dJKG1MzTAZpC1pU87vFIkuTYCewmtxt/s7tro09zNo+DgIGF/W4/D6AphOkGs9IclYuJb+6OZGmW5/d+b9gSCnTOCrGgc3XF/ip1fS3RJQdEJfOZEYt+D52y7JhUQYVlNIia+82bi5JFLpQtbcm2rK4SjcfQn5qeA805XCH97q2tLnzBrz0H4lfhPv3b+1BtXKirrXJxKqYOsm27A//E6K7+QnnjEpW5o+FkZ8aOVgLDsgRa2ytFWSwDfc6ewvleIxaXfyez8QnYGNPv7/nbX/euEWVtMzpxI/OypC1JgVflO4OmpVLBzjr95xt6Sv7pB+m10csR+Z/VtEDY/oKxUjB27zMj5qTKQEtqPv9m9cvPc0Jqy2p8PDpJDg2ItzGs3m64Q3pQJYMvpOz9zInFs78X39LUjBdrqH3xxseLBaBx97tH0mK2zdFoC+PDzLvXP4btrS/US2gIIixUq0hY9bOKXxwlUuCrF58V9G/D6Xlxmy64hqpLR3G1q72RtzdIVbX4usWHDLkBYbFGRtugoq4ODZCgM5poFnxff14tXdePyxyqEX4m/tT9mbMOkxyds2nO9ughgl7OK2YqRcX1qQFgsQrUV7PQUG2eqBsylSRWeqmIFsCL8ze4Hf7xY3dpivbOK2SoRE/c8MMVaMkgBYTHNJ9d6ezbPLV9bYC7KkoAkqYo8RbO/sWNXTh6Jmz2sLrTWe+83Fqgft9JZmif6UAa/8wELZ6ZqAsLigGCn55Nrrys/T6SMjpOhMHrtuDgyjmJx58vL58XLWtFd3cLqblTRlvJETDxzIvHW/phRhapyKDY6zZpTl0rMR2WzdCUDwuIGf7P7Y52eSgMuynBYirnon+ZcnT1QSS0PZQ8uq3TOVOR0cuzYZfOyv9KUGPdoXs+wz4u/vVWjnZ3CuK1AWFxCA66KKlyFDIfJyDgaDouj41wOL14SwMtDqL1VWNZa5TC8REwMH4mPHbtiZUilSQlnTUbQwUFxV79hJqXLo30bio7xYt9WICy+WdrT2N4zp31lY4k91aWJxWnmSEbHyWSE0ZO1ZEMtCaAy26Y0ScTEsWNXwkfitnuqkBLOkg+L01mRnFVVvNgKhOUQ9JtLRjbXZITQQ24mLIzClgRw5pweSU9zvYiek6hzoLDsqXOnk4wc/aKga2OT5qG8hRwcJEePi0PhCsqRNF+etTmWnvwUPsLHFgoQlqPQmS0Wg8orGkcTEXrwBJE3CdFDKC7GZ7mRfF4814tyZ+0gujjVIulJery9lT5o5PDV6anU2LHLLOR95VD6UN5C5Iw+Flf+OinUfZn5cuR08qXH32ezg0ETEJYzoRX69pWNwc4G/WEXL2TW+66eOZE4dewyRzehTOn00HCO7Z22a8GhakBYzifY6bm+rb69pzHQVnRYM7/IkoqcTnIRTJXG3+y++7F5ipHKhnPmRCJzADB78wNnA4RVWwTa6q9fWh/sbAi01ZeeEsEykdPJyKlrZ36feO93CR4jqVkJdnpWbvYr5mcZgrFbI60HhFXT0ODL3+wKtDUwG3/RM6Yyb9fOnUpOTykPznIqgbb6rgd8lTYMa8JOJ4dOQFhAHjqca26z27/YHWirz/yvpRajMoqcupaIp2tNT8Xw+ISlPY3VlSPpCumZ3ydOHbvsjB8jCAuYHf9it7/Z3eAT/IvdHp/g8WGP10Vn0UnvZ+4ij1codjslYqI88W76bJoOA5D1lIiLF8+mps+mEnHRGTeVedCMPtBWF2hroD/5woVFmh1HTl2bnroWOX3NkfkyCAsAAG5gsWYBAACgCQgLAABuAGEBAMANICwAALgBhAUAADeAsAAA4AYQFgAA3ADCAgCAG0BYAABwAwgLAABuAGEBAMANICwAALgBhAUAADeAsAAA4AYQFgAA3ADCAgCAG0BYAABwAwgLAABuAGEBAMANICwAALgBhAUAADeAsAAA4AYQFgAA3ADCAgCAG0BYAABwAwgLAABuAGEBAMANICwAALgBhAUAADeAsAAA4AYQFgAA3ADCAgCAG0BYAABwAwgLAABuAGEBAMANICwAALgBhAUAADeAsAAA4AYQFgAA3ADCAgCAG0BYAABwAwgLAABuAGEBAMAN/yMAAP//0LVUSZC8Zc8AAAAASUVORK5CYII="

        init {
            Base64MockContext.mockBase64()
            BitmapMockContext.mockBitmapFactory()
        }
    }

    private lateinit var mImageDataRepository: ImageDataRepository

    private fun generateGetImagesNetworkResponse(imagesIds: List<Long>): String {
        val responseStringBuilder = StringBuilder("{\"images\": [")

        for (index in imagesIds.indices) {
            responseStringBuilder.append("{\"id\": ${imagesIds[index]}, \"content\"=\"${DEFAULT_IMAGE_CONTENT}\"}")
            responseStringBuilder.append(if (index == imagesIds.size - 1) "" else ",")
        }

        return responseStringBuilder.append("]}").toString()
    }

    private fun initImageDataRepository(
        code: Int = 200,
        responseString: String = String(),
        loadedImageUri: Uri? = null,
        savedImageUri: Uri? = null
    ) {
        val localImageDataSource = Mockito.mock(LocalImageDataSource::class.java)

        runBlocking {
            Mockito.`when`(localImageDataSource.loadImage(
                Mockito.anyLong()
            )).thenReturn(loadedImageUri)
            Mockito.`when`(localImageDataSource.saveImageOnDevice(
                Mockito.anyLong(),
                AnyUtility.any(Bitmap::class.java)
            )).thenReturn(savedImageUri)
        }

        val networkImageDataSource = NetworkTestContext.generateTestRetrofit(
            NetworkTestContext.generateDefaultTestInterceptor(code, responseString)
        ).create(NetworkImageDataSource::class.java)

        mImageDataRepository = ImageDataRepository(localImageDataSource, networkImageDataSource)
    }

    private fun getMockedUri(): Uri {
        return mock(Uri::class.java)
    }

    @Before
    fun setup() {
        initImageDataRepository()
    }

    @Test
    fun getImageFromLocalStorageTest() {
        val imagesIds = listOf(1L)
        val imageUri = getMockedUri()

        initImageDataRepository(loadedImageUri = imageUri)

        runBlocking {
            val result = mImageDataRepository.getImages(imagesIds, String())

            Assert.assertNotEquals(ErrorResult::class.java, result::class.java)
            Assert.assertEquals(imageUri, (result as GetImagesResult).imageIdToUriMap[imagesIds.first()])
        }
    }

    @Test
    fun getImageFromNetworkTest() {
        val imagesIds = listOf(1L)
        val imageUri = getMockedUri()

        val accessToken = "access_token"
        val responseString = generateGetImagesNetworkResponse(imagesIds)

        initImageDataRepository(responseString = responseString, savedImageUri = imageUri)

        runBlocking {
            val result = mImageDataRepository.getImages(imagesIds, accessToken)

            Assert.assertNotEquals(ErrorResult::class.java, result::class.java)
            Assert.assertEquals(imageUri, (result as GetImagesResult).imageIdToUriMap[imagesIds.first()])
        }
    }
}